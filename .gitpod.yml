# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.
image:
  file: .gitpod.Dockerfile

vscode:
  extensions:
    - connorshea.vscode-ruby-test-adapter
    - hbenl.vscode-test-explorer
    - rebornix.ruby
    - castwide.solargraph
    - testdouble.vscode-standard-ruby

ports:
  # Web server
  - port: 8080
    onOpen: open-preview
    
tasks:
  - name: Build Site
    init: gem install solargraph && \
      bin/setup && \
      gp sync-done install_dependencies
    command: bundle exec bin/build.rb --watch

  - name: Webserver
    init: gp sync-await install_dependencies
    command: ruby -run -e httpd dist

  - name: TailwindCSS
    init: gp sync-await install_dependencies
    command:  tailwindcss -i ./assets/application.css -o ./dist/application.css --watch

  